# Ansible Playbook — Автоматизация настройки сервера
## 1. Описание плейбука
Данный Ansible playbook предназначен для автоматизированной настройки Linux-сервера.

Основные цели:
- установка необходимых пакетов;
- создание пользователей;
- настройка службы Nginx;
- деплой конфигурационных файлов.

Плейбук создан в соответствии с принципами DRY, KISS и YAGNI — максимально просто, без повторений и избыточности. 
## 2. Структура ролей и задач
|Роль|Основные задачи|
|---|---|
|common|Установка пакетов, обновление системы|
|users|Создание пользователей и групп|
|nginx|Установка Nginx, деплой конфигурации, запуск сервиса|
См. документацию Ansible по ролям[^1]
## 3. Пример Playbook файла
```yaml 
- name: Basic server configuration
  hosts: all
  become: true

  roles:
    - common
    - users
    - nginx
```
## 4. Команды запуска и проверки
***Запуск плейбука***
```bash
ansible-playbook -i inventory.ini playbook.yml
```
~~Проверка подключения~~
```bash
ansible all -i inventory.ini -m ping
```
## 5. Смешанные списки (treelike)
+ Для корректной работы необходимо:
  1. Установить Ansible:
  2. Подготовить инвентори-файл.
  3. Проверить подключения к хостам.
+ После выполнения:
  * Nginx будет запущен.
  * Конфигурация разложена по шаблону.
  * Пользователи созданы.
## 6. Полезные ссылки
[Официальная документация Ansible](https://docs.ansible.com)
## Сноска
[^1]:Подробно про роли: https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse_roles.html
